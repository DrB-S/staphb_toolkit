# include statement
# this ensures defaults from application.conf
include required(classpath("application"))

workflow-options {
  workflow-log-dir: "titan-temp-logs"
}

backend {
  # Override the default backend.
  default: docker

  # The list of providers.
  providers: {
    docker {
      actor-factory = "cromwell.backend.impl.sfs.config.ConfigBackendLifecycleActorFactory"
      config {
        run-in-background = true
        root = "titan-temp-run"
        dockerRoot = "/titan-temp-run"
        runtime-attributes = """
          String? docker
        """
        submit-docker = """
          docker run --rm -v ${cwd}:${docker_cwd} -u $(id -u):$(id -g) -i ${docker} ${job_shell} < ${script}
        """
      }
    }
  }
}
